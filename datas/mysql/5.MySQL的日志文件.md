> undolog
> redolog
> binlog

## undolog

undoLog 也就是我们常说的**回滚日志文件**   主要用于事务中执行失败，进行回滚，以及 MVCC 中对于数据历史版本的查看。

由**引擎层的 InnoDB 引擎实现**，是**逻辑日志** ，记录数据修改被修改前的值，比如"把 id='B' 修改为 id = 'B2' ，那么 undo 日志就会用来存放 id ='B'的记录”。

## redolog

redoLog 是重做日志文件是**记录数据修改之后的值** ，**用于持久化到磁盘中** 。

redo log 包括两部分：**一是内存中的日志缓冲(redo log buffer)，该部分日志是易失性的** ；二是**磁盘上的重做日志文件(redo log file)** ，该部分日志是持久的。

当一条数据需要更新时，InnoDB 会先将数据更新，然后记录 redoLog 在**内存**中，然后找个时间将 redoLog 的操作**执行到磁盘上的文件**上。

## binlog

binlog 由**Mysql 的 Server 层实现** ，是**逻辑日志** ，记录的是 SQL 语句的**原始逻辑**。

**用于复制和恢复在主从复制中，从库利用主库上的 binlog 进行重播(执行日志中记录的修改逻辑)，实现主从同步。**

## binlog 和 redolog 的区别

1. redolog 是在 InnoDB**存储引擎层**产生 ，而 binlog 是 MySQL 数据库的**上层服务层**产生的。
2. 两种日志记录的内容形式不同。MySQL 的**binlog 是逻辑日志 **，其记录是对应的 SQL 语句 。而 innodb 存储引擎层面的重做日志是**物理日志** 。
3. 两种日志与记录**写入磁盘的时间点不同**，binlog 日志**只在事务提交完成后进行一次写入 **。而 innodb 存储引擎的重做日志在事务进行中**不断地被写入**，并且日志不是随事务提交的顺序进行写入的 。
4. binlog 不是循环使用，在写满或者重启之后，会生成新的 binlog 文件，redolog 是**循环使用** 。
5. binlog 可以作为**恢复数据使用，主从复制搭建** ，redolog 作为异常宕机或者介质故障后的数据恢复使用 。
