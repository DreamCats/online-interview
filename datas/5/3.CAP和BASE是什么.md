## CAP

- C(一致性):对某个指定的客户端来说，读操作能返回最新的写操作。对于数据分布在不同节点上的数据上来说，如果在某个节点更新了数据，那么在其他节点如果都能读取到这个最新的数据，那么就称为强一致，如果有某个节点没有读取到，那就是分布式不一致。
- A(可用性)：非故障的节点在合理的时间内返回合理的响应(不是错误和超时的响应)。可用性的两个关键一个是合理的时间，一个是合理的响应。合理的时间指的是请求不能无限被阻塞，应该在合理的时间给出返回。合理的响应指的是系统应该明确返回结果并且结果是正确的，这里的正确指的是比如应该返回 50，而不是返回 40。
- P(分区容错性):当出现网络分区后，系统能够继续工作。打个比方，集群有多台机器，有台机器网络出现了问题，但是这个集群仍然可以正常工作。

- CP：对于 CP 来说，放弃可用性，追求一致性和分区容错性，我们的 zookeeper 其实就是追求的强一致。
- AP：对于 AP 来说，放弃一致性(这里说的一致性是强一致性)，追求分区容错性和可用性，这是很多分布式系统设计时的选择，后面的 BASE 也是根据 AP 来扩展。

## BASE

BASE 是 BasicallyAvailable(基本可用)、Softstate(软状态)和 Eventuallyconsistent(最终一致性)三个短语的缩写。是对 CAP 中 AP 的一个扩展-基本可用:分布式系统在出现故障时，允许损失部分可用功能，保证核心功能可用。

- 软状态:允许系统中存在中间状态，这个状态不影响系统可用性，这里指的是 CAP 中的不一致。
- 最终一致:**最终一致是指经过一段时间后，所有节点数据都将会达到一致**。BASE 解决了 CAP 中理论没有网络延迟，在 BASE 中用软状态和最终一致，保证了延迟后的一致性。BASE 和 ACID 是相反的，它完全不同于 ACID 的强一致性模型，而是通过牺牲强一致性来获得可用性，并允许数据在一段时间内是不一致的，但最终达到一致状态。
