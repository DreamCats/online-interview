面试官：讲一下什么是栈溢出？

- StackOverFlowError：**如果线程请求的栈深度大于虚拟机所允许的深度**，将抛出此异常。比如，**无限递归方法**，其实面试官按捺不住的问
- OutOfMemoryError：**如果虚拟机在扩展栈时无法深浅到足够的内存空间**，将抛出异常。

面试官：为什么无限递归方法就可以抛出该异常？

我：因为我们知道，**每次调用方法所产生资源都存放在了虚拟机栈中**，如果无限递归下去，那岂不是？

面试官：虚拟机栈存了什么资源？

我：我真的是！虚拟机栈存了**局部变量表、操作数栈、动态链接和方法出口**。

面试官：局部变量表中存了什么？

我：啊？还好我会，存放了编译期可知的各种**基本数据类型(8 大基本类型)**，**对象引用类型**，它不等同于对象本身，可能是一个指向对象**起始地址的引用指针**，也可能是指向一个**代表对象的句柄或其他与此对象相关的位置**。

## 栈溢出的小例子

> 启动参数： `-Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryError`

```java
public class Test {
    public void m() {
        System.out.println("stack test overflow...");
        m();
    }
    public static void main(String[] args) {
        new T1().m();
    }
}
```
