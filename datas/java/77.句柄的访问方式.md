# 句柄的访问方式

面试官：给我讲讲对象的访问方式

我：明白，两种：使用句柄和使用直接指针

1. **句柄**：

![使用句柄-eeXA0j](https://cdn.jsdelivr.net/gh/DreamCats/imgs@main/uPic/使用句柄-eeXA0j.png)

如果使用句柄的话，那么 Java 堆中将会划分出一块内存来作为句柄池，reference 中存储的就是对象的句柄地址，而句柄中包含了**对象实例数据**与**类型数据**各自的具体地址信息；

2. **直接指针**：

![直接指针-BP50tf](https://cdn.jsdelivr.net/gh/DreamCats/imgs@main/uPic/直接指针-BP50tf.png)

如果使用直接指针访问，那么 Java 堆对象的布局中就必须考虑如何放置访问类型数据的相关信息，而 reference 中存储的直接就是对象的地址。

话说：这两种对象访问方式各有优势。使用句柄来访问的最大好处是 reference 中存储的是**稳定**的句柄地址，在对象被移动时只会改变句柄中的实例数据指针，而 **reference 本身不需要修改**。使用直接指针访问方式最大的好处就是**速度快**，它节省了一次指针定位的时间开销。
